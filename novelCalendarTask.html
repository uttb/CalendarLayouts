<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Display:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="res/css/style.css">
        <script type="text/javascript" src="src/js/calendarTask.js"></script>
        <script type="text/javascript" src="src/js/events.js"></script>
        <script defer>
        // Define a key for this page
        const pageName = "novelCalendarTask";

        let visitCount = sessionStorage.getItem(pageName) || 0;
        visitCount = parseInt(visitCount) + 1;
        console.log("visit count", visitCount)
        // Update the count in localStorage
        sessionStorage.setItem(pageName, visitCount);

        // Function to update button behavior based on visit count
        function updateButton() {
            const button = document.getElementById("nextButton");

            // Check if the visit count has reached 3
            if (visitCount >= 4) {
                // Redirect to 'endPages.html' when button is clicked
                button.onclick = function() {
                    window.location.href = "closingPages.html";
                };
            } else {
                // Redirect to 'inBetween.html' when button is clicked
                button.onclick = function() {
                    window.location.href = "inBetween.html";
                };
            }
        }
    </script>
    </head>
    <body onload="updateButton()">
        <div class="pageContainer">
            <main>
                <div class="calendarContainer">
                    <div class="dayContainer weekday">
                        <h4 class="dayTitle">Monday</h4>
                        <table>
                            <tr>
                                <th>Morning</th>
                                <th>Afternoon</th>
                                <th>Evening</th>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Mon_12" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">12</td>
                                <td id="Mon_18" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">18</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Mon_13" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">13</td>
                                <td id="Mon_19" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">19</td>
                            </tr>
                            <tr>
                                <td id="Mon_8" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">8</td>
                                <td id="Mon_14" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">14</td>
                                <td id="Mon_20" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">20</td>
                            </tr>
                            <tr>
                                <td id="Mon_9" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">9</td>
                                <td id="Mon_15" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">15</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Mon_10" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">10</td>
                                <td id="Mon_16" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">16</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Mon_11" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">11</td>
                                <td id="Mon_17" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">17</td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                    <div class="dayContainer weekday">
                        <h4 class="dayTitle">Tuesday</h4>
                        <table>
                            <tr>
                                <th>Morning</th>
                                <th>Afternoon</th>
                                <th>Evening</th>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Tue_12" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">12</td>
                                <td id="Tue_18" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">18</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Tue_13" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">13</td>
                                <td id="Tue_19" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">19</td>
                            </tr>
                            <tr>
                                <td id="Tue_8" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">8</td>
                                <td id="Tue_14" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">14</td>
                                <td id="Tue_20" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">20</td>
                            </tr>
                            <tr>
                                <td id="Tue_9" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">9</td>
                                <td id="Tue_15" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">15</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Tue_10" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">10</td>
                                <td id="Tue_16" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">16</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Tue_11" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">11</td>
                                <td id="Tue_17" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">17</td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                    <div class="dayContainer weekday">
                        <h4 class="dayTitle">Wednesday</h4>
                        <table>
                            <tr>
                                <th>Morning</th>
                                <th>Afternoon</th>
                                <th>Evening</th>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Wed_12" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">12</td>
                                <td id="Wed_18" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">18</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Wed_13" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">13</td>
                                <td id="Wed_19" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">19</td>
                            </tr>
                            <tr>
                                <td id="Wed_8" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">8</td>
                                <td id="Wed_14" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">14</td>
                                <td id="Wed_20" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">20</td>
                            </tr>
                            <tr>
                                <td id="Wed_9" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">9</td>
                                <td id="Wed_15" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">15</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Wed_10" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">10</td>
                                <td id="Wed_16" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">16</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Wed_11" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">11</td>
                                <td id="Wed_17" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">17</td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                    <div class="dayContainer weekday">
                        <h4 class="dayTitle">Thursday</h4>
                        <table>
                            <tr>
                                <th>Morning</th>
                                <th>Afternoon</th>
                                <th>Evening</th>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Thu_12" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">12</td>
                                <td id="Thu_18" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">18</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Thu_13" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">13</td>
                                <td id="Thu_19" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">19</td>
                            </tr>
                            <tr>
                                <td id="Thu_8" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">8</td>
                                <td id="Thu_14" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">14</td>
                                <td id="Thu_20" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">20</td>
                            </tr>
                            <tr>
                                <td id="Thu_9" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">9</td>
                                <td id="Thu_15" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">15</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Thu_10" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">10</td>
                                <td id="Thu_16" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">16</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Thu_11" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">11</td>
                                <td id="Thu_17" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">17</td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                    <div class="dayContainer weekday">
                        <h4 class="dayTitle">Friday</h4>
                        <table>
                            <tr>
                                <th>Morning</th>
                                <th>Afternoon</th>
                                <th>Evening</th>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Fri_12" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">12</td>
                                <td id="Fri_18" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">18</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Fri_13" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">13</td>
                                <td id="Fri_19" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">19</td>
                            </tr>
                            <tr>
                                <td id="Fri_8" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">8</td>
                                <td id="Fri_14" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">14</td>
                                <td id="Fri_20" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">20</td>
                            </tr>
                            <tr>
                                <td id="Fri_9" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">9</td>
                                <td id="Fri_15" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">15</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Fri_10" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">10</td>
                                <td id="Fri_16" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">16</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Fri_11" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">11</td>
                                <td id="Fri_17" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">17</td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                    <div class="dayContainer weekend">
                        <h4 class="dayTitle">Weekend</h4>
                        <table>
                            <tr>
                                <th class="weekendDayHeader">Saturday</th>
                                <th>Afternoon</th>
                                <th>Evening</th>
                                <th class="weekendDayHeader">Sunday</th>
                                <th>Afternoon</th>
                                <th>Evening</th>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Sat_12" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">12</td>
                                <td id="Sat_18" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">18</td>
                                <td></td>
                                <td id="Sun_12" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">12</td>
                                <td id="Sun_18" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">18</td>
                            </tr>
                            <tr>
                                <td></td>
                                <td id="Sat_13" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">13</td>
                                <td id="Sat_19" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">19</td>
                                <td></td>
                                <td id="Sat_13" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">13</td>
                                <td id="Sat_19" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">19</td>
                            </tr>
                            <tr>
                                <td id="Sat_8" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">8</td>
                                <td id="Sat_14" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">14</td>
                                <td id="Sat_20" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">20</td>
                                <td id="Sun_8" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">8</td>
                                <td id="Sun_14" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">14</td>
                                <td id="Sun_20" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">20</td>
                            </tr>
                            <tr>
                                <td id="Sat_9" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">9</td>
                                <td id="Sat_15" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">15</td>
                                <td></td>
                                <td id="Sun_9" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">9</td>
                                <td id="Sun_15" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">15</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Sat_10" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">10</td>
                                <td id="Sat_16" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">16</td>
                                <td></td>
                                <td id="Sun_10" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">10</td>
                                <td id="Sun_16" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">16</td>
                                <td></td>
                            </tr>
                            <tr>
                                <td id="Sat_11" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">11</td>
                                <td id="Sat_17" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">17</td>
                                <td></td>
                                <td id="Sun_11" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">11</td>
                                <td id="Sun_17" ondrop="dropOnCell(event)" ondragover="allowDrop(event)">17</td>
                                <td></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </main>
            <aside>
                <h3 class="dragTitle" >Drag and drop these events in the calendar</h3>
                <p class="asideText">NB! Please place all the events even if you are unsure.</p>
                <div class="dragEventContainer" id="eventList" ondrop="dropOnEventList(event)" ondragover="allowDrop(event)">
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event1">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event2">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event3">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event4">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event5">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event6">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event7">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event8">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event9">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event10">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event11">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event12">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event13">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event14">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event15">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event16">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event17">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event18">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event19">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event20">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event21">Event</div>
                    <div class="dragEvent" draggable="true" ondragstart="dragStartEvent(event)" id="event22">Event</div>
                </div>
            </aside>
        </div>
            <button id="nextButton">I'm done</button>
    </body>
</html>